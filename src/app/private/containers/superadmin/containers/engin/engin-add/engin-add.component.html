<button mat-raised-button (click)="isEditable = !isEditable">
    {{!isEditable ? 'Enable edit mode' : 'Disable edit mode'}}
</button>

<mat-horizontal-stepper linear #stepper [selectedIndex]="currentStepper">
    <mat-step [stepControl]="step1Form" [editable]="isEditable">
        <form class="example-form" [formGroup]="step1Form">
            
            <ng-template matStepLabel>Caractere Technique 1</ng-template>
            
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Immatriculation</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="registration" required>
                    </mat-form-field>

                </div>

            </div>
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Pays Immatriculation</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="country_registration" required>
                    </mat-form-field>

                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>Marque</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="marque" required>
                    </mat-form-field>
                </div>
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>Modele</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="modele" required>
                    </mat-form-field>

                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>Type</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="type" required>
                    </mat-form-field>

                </div>
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>Carosserie</mat-label>
                        <input matInput placeholder="Last name, First name" formControlName="carosserie" required>
                    </mat-form-field>

                </div>

            </div>
            <div class="row">
                    <div class="col-md-4">
                        <mat-form-field >
                            <mat-label>Longueur</mat-label>
                            <input matInput placeholder="500" formControlName="longueur" matInput >
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field >
                            <mat-label>Largeur</mat-label>
                            <input matInput placeholder="500" formControlName="largeur" matInput >
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field >
                            <mat-label>Hauteur</mat-label>
                            <input matInput placeholder="500" formControlName="hauteur" matInput >
                        </mat-form-field>
                    </div>
            </div>
            <div class="row">
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <mat-label>Numero Chassis</mat-label>
                            <input matInput placeholder="500" formControlName="chassis_number" matInput >
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <mat-label>Poids Vide</mat-label>
                            <input matInput placeholder="500" formControlName="pv" matInput >
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <mat-label>Charge Utile</mat-label>
                            <input matInput placeholder="500" formControlName="charge_utile" matInput >
                        </mat-form-field>
                    </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <mat-form-field >
                        <mat-label>PPOIDS TOTAL EN CHARGE</mat-label>
                        <input matInput formControlName="ptc" matInput placeholder="555">
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field >
                        <mat-label>Volume</mat-label>
                        <input matInputformControlName="volume" matInput placeholder="555">
                    </mat-form-field>
                </div>

            </div>

            <div>
                <button (click)="addStep1()" mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="step2Form">
        <form class="example-form" [formGroup]="step2Form">
            <ng-template matStepLabel>Caractere Technique 2</ng-template>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Nombre d'essieux semi-remorq </mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="semi_remorq" required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Nombre Essieux Tracteur ou Porteur </mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="tracteur_porteur"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Nombre de Place</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="nbr_place"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Code Interne</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="code_interne"
                            required>
                    </mat-form-field>
                </div>
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Date de Mise en Circulation</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="date_circulation"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Carburant</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="carburant"
                            required>
                    </mat-form-field>
                </div>
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Couleur</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="couleur"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Option</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="option"
                            required>
                    </mat-form-field>
                </div>
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Valeur Achat</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="valeur_achat"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Conso Min</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="conso_min"
                            required>
                    </mat-form-field>
                </div>
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Conso Max</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="conso_max"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Etat</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="etat"
                            required>
                    </mat-form-field>
                </div>
                <div class="col-md-6" >
                    <mat-form-field >
                        <mat-label>Kilometrage</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="kilometrage"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button (click)="addStep2()" mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="step3Form">
        <form class="example-form" [formGroup]="step3Form">
            <ng-template matStepLabel>Information Piece identite</ng-template>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Piece Identite </mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="piece_identite"
                            required>
                    </mat-form-field>
                    <!--  <mat-form-field appearance="fill">
                        <mat-label>Select</mat-label>
                        <mat-select formControlName="piece_identite">
                          <mat-option value="passport">PASSPORT</mat-option>
                          <mat-option value="cni">CNI</mat-option>
                          <mat-option value="recepice">RECEPICE</mat-option>
                          <mat-option value="autre piece">AUTRE PIECE</mat-option>
                        </mat-select>
                      </mat-form-field>-->
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Numero Piece Identite</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="num_piece" required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Date de Delivrance</mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="date_delivrance"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Lieu de Delivrance </mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="lieu_delivrance"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button (click)="addStep3()" mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="step4Form">
        <form class="example-form" [formGroup]="step4Form">
            <ng-template matStepLabel>Formations</ng-template>
            <div class="row">
                <div class="col-md-10">
                    <mat-form-field class="example-full-width">
                        <mat-label>Nom de la Formation </mat-label>
                        <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="name_formation"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <input type="file" id="userFile" (change)="onSelectFile($event)" #fileInput style="display: none">
                    <mat-form-field>
                        <input matInput formControlName="filename" placeholder="Fichier" readonly>
                    </mat-form-field>
                    <button mat-button (click)="selectFile()">Importer une Piece Justificative</button>
                </div>
            </div>
            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button (click)="addStep4()" mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        <p>You are now done.</p>
        <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="reset()">Reset</button>
        </div>
    </mat-step>
</mat-horizontal-stepper>